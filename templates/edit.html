{% extends "base.html" %}

{% block title %}Editar Registro{% endblock %}

{% block content %}
    <h1>Editar Registro de Estudo</h1>
    <form method="POST" action="{{ url_for('edit_record', timestamp=record.timestamp) }}">
        <label for="subject">Matéria:</label>
        <input type="text" id="subject" name="subject" value="{{ subject if subject is defined else record.subject }}" required>

        <label for="duration">Duração (minutos):</label>
        <input type="number" id="duration" name="duration" value="{{ duration if duration is defined else record.duration_minutes }}" required min="1">

        <label for="quality">Qualidade da Sessão (1-5):</label>
        <select id="quality" name="quality" required>
            <option value="">Selecione...</option>
            {% set current_quality = quality if quality is defined else record.quality %}
            <option value="1" {% if current_quality|int == 1 %}selected{% endif %}>1 - Muito Baixa</option>
            <option value="2" {% if current_quality|int == 2 %}selected{% endif %}>2 - Baixa</option>
            <option value="3" {% if current_quality|int == 3 %}selected{% endif %}>3 - Média</option>
            <option value="4" {% if current_quality|int == 4 %}selected{% endif %}>4 - Boa</option>
            <option value="5" {% if current_quality|int == 5 %}selected{% endif %}>5 - Excelente</option>
        </select>

        <label for="notes">Anotações (opcional):</label>
        <textarea id="notes" name="notes" rows="4">{{ notes if notes is defined else record.notes }}</textarea>

        <button type="submit">Salvar Alterações</button>
        <a href="{{ url_for('view_records') }}" class="button" style="background-color: #6c757d; margin-top: 10px;">Cancelar</a>
    </form>
{% endblock %}